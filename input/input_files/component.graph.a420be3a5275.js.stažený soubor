var chartId = 1
var createComponent = function(Vue, graph) {
	var chartProps = [
		"colors", "label"
	]

	Vue.component(graph, {
	    props: ["data", "id", "class", "title", "chart_type"].concat(chartProps),
	    template: '<div v-bind:id="chartId" v-bind:class="classId" v-bind:style="chartStyle">Loading...</div>',
	    data: function() {
	      return {
	        chartId: null,
	        classId: "",
	        title: ""
	      }
	    },
	    computed: {
			chartStyle: function() {
				this.data
				this.height
	        }
	    },
	    created: function() {
	      this.chartId = this.chartId || this.id || ("chart-" + chartId++)
	      this.classId = this.class
	    },
	    mounted: function() {
	      this.chart = new RiotGraph(this.chartId, this.title, this.data, this.chart_type)
	      var chart = this.chart
	      setTimeout(function () {
	      	chart.draw()
	      }, 5)
	    },
	    // updated: function() {
	    // 	setTimeout(function () {
	    // 		chart.update(data, chart_type)
	    // 	}, 5)
	    // }
	});
}

createComponent(Vue, "graph")